# A War Without Victory -- Phase Specifications v0.3.0


## v0.3.0 phase specifications

Phase 0 Specification: docs/Phase_0_Specification_v0_3_0.md

Phase I Specification: docs/Phase_I_Specification_v0_3_0.md

Areas of Responsibility are instantiated only once sustained brigade-level adjacency contact exists between opposing factions for multiple consecutive turns, and militia-only pressure is no longer the dominant coercive mechanism. AoRs are never instantiated during Phase I.

One game turn equals one week.

## Document Purpose

This document contains the complete frozen specifications for Phases 3A, 3B, and 3C. These phases are design-frozen and may not be modified without explicit phase advancement, ledger entry, and justification against canon invariants.

Each phase specification includes:
- Purpose and scope
- Canonical inputs (locked)
- Mechanical behavior (frozen)
- Output contract
- Determinism requirements
- Non-effects (explicit)
- Freeze status

---

# Appendix A: Phase 3A --- Pressure Eligibility and Diffusion (Design Freeze)

## 1. Purpose and Scope

Phase 3A introduces pressure propagation mechanics that transform static spatial relationships into actionable interaction without resolving combat, collapse, or negotiation.

This phase exists to:
- Make settlement adjacency and contact geometry operational
- Constrain pressure flow through spatial, structural, and state-based eligibility
- Redistribute accumulated pressure deterministically and conservatively

Phase 3A does not tune gameplay outcomes and does not introduce negative-sum effects by itself.

## 2. Conceptual Definition

Pressure represents accumulated coercive stress generated by sustained military presence, posture, and contact. Pressure is not damage, not attrition, and not exhaustion.

Phase 3A governs how existing pressure spreads, not how pressure is created or resolved.

## 3. Canonical Inputs (Locked)

Phase 3A operates exclusively on previously derived spatial artifacts.

### 3.1 Settlement Substrate
Authoritative geometry source: `data/derived/settlements_substrate.geojson`

No snapping, repair, inferred borders, or geometry invention is permitted.

### 3.2 Contact Graph (Phase 1)
`data/derived/settlement_contact_graph.json`

Typed contacts: shared_border, point_touch, distance_contact

### 3.3 Enriched Contact Graph (Phase 2)
`data/derived/settlement_contact_graph_enriched.json`

Additional metrics include:
- centroid_distance_svg
- contact_span_svg
- bbox_overlap_ratio
- area_ratio
- perimeter_ratio

Phase 3A may only reference these metrics. No pruning or reclassification is permitted.

## 4. Phase 3A.1 --- Pressure Eligibility

### 4.1 Purpose

Eligibility determines whether and how strongly pressure may propagate across a given settlement contact edge.

Eligibility does not apply pressure. It constrains future diffusion.

### 4.2 Hard Gating Conditions

An edge is ineligible if any of the following conditions are met:
- Source or destination settlement is in exhaustion collapse
- Cohesion failure invalidates coordinated pressure
- Structural integrity constraints are violated

Hard gates are absolute. An ineligible edge has effective weight = 0.

### 4.3 Weight Computation

For eligible edges, an effective weight w ∈ [0,1] is computed deterministically:

**w = base(contact_type) × f_distance × f_shape × f_state × f_posture**

Where:
- base(contact_type) is fixed per contact class
- f_distance derives from centroid and span metrics
- f_shape derives from geometric ratios
- f_state reflects settlement state constraints
- f_posture reflects formation posture interaction

No term may exceed 1. No negative weights are permitted.

Weights are advisory multipliers, not probabilities.

### 4.4 Output

Phase 3A.1 produces:
- An effective in-memory edge list
- A deterministic audit summary
- No persistent state changes

Eligibility is feature-gated and default-off until explicitly enabled.

## 5. Phase 3A.2 --- Pressure Diffusion

### 5.1 Purpose

Diffusion redistributes existing pressure across eligible edges in a bounded and conservative manner.

Diffusion:
- Smooths local pressure imbalances
- Delays propagation across weak links
- Preserves total pressure mass

Diffusion does not create exhaustion, collapse, or territorial change.

### 5.2 Canonical Pressure Field

The authoritative pressure field is: `state.front_pressure`

Pressure is edge-keyed. Node pressure is derived deterministically for analysis only.

### 5.3 Diffusion Rules (Frozen)

Diffusion obeys the following invariants:
- **Conservative:** Total pressure is preserved globally
- **Bounded:** Per-node outflow is capped
- **Deterministic:** Stable ordering and rounding fixes enforced
- **Local:** Diffusion magnitude is proportional to eligibility weight

**Fixed constants:**
```
DIFFUSE_FRACTION = 0.05
DIFFUSE_MAX_OUTFLOW = 2.0
DIFFUSE_EPS = 1e-9
```

Constants are conservative by design and not gameplay tuning knobs.

### 5.4 Execution Conditions

Diffusion runs only if:
- Phase 3A eligibility is enabled, and
- Phase 3A diffusion is enabled

Diffusion runs:
- After eligibility computation
- Before militia fatigue and later systems
- Without persistence or geometry writes

### 5.5 Output Contract

Diffusion returns a structured result:

```javascript
{
  applied: boolean,
  reason_if_not_applied: string,
  stats: {
    nodes_with_outflow,
    total_outflow,
    total_inflow,
    conserved_error_fix_applied
  }
}
```

## 6. Determinism and Auditability

Phase 3A enforces:
- No randomness
- No timestamps
- Stable ordering of all collections
- Byte-identical outputs across reruns

All validation harness outputs are canonical and hash-tracked.

Any namespace or determinism violation aborts execution.

## 7. Design Constraints (Explicit)

Pressure diffusion represents the spatial equilibration of coercive stress across eligible contacts. It delays escalation across weak links and smooths local imbalances without producing loss, exhaustion, or decisive outcomes. Diffusion is a structural substrate upon which negative-sum dynamics are later imposed.

## 8. Canonical Interpretation

Phase 3A does not:
- Dissipate pressure
- Generate exhaustion
- Trigger collapse
- Influence negotiation directly
- Expose UI elements
- Provide AI heuristics

Any such effects must be introduced in later phases.

## 9. Freeze Status

**This statement is binding.**

Phase 3A eligibility and diffusion are design-frozen.

Any future modification requires:
- Explicit phase advancement
- Ledger entry
- Justification against canon invariants

---

# Appendix B: Phase 3B --- Pressure → Exhaustion Coupling (Design Freeze)

## 1. Purpose and Scope

Phase 3B introduces the first negative-sum transformation in the pressure system by coupling sustained pressure to irreversible exhaustion.

This phase exists to:
- Convert persistent coercive pressure into strategic cost
- Enforce the negative-sum nature of prolonged conflict
- Narrow future options without causing immediate collapse or territorial change

Phase 3B does not resolve combat, force collapse, or trigger negotiation directly.

## 2. Conceptual Definition

Exhaustion represents cumulative, irreversible military, political, and societal strain.

Pressure remains conservative during diffusion (Phase 3A) and non-decisive on its own.

Phase 3B defines how pressure becomes costly over time.

Exhaustion is the sink through which pressure imposes long-term consequences.

## 3. Canonical Inputs (Locked)

Phase 3B operates exclusively on:
- `state.front_pressure` (edge-keyed, canonical)
- Settlement and formation state variables already defined in prior phases
- Derived contact eligibility from Phase 3A

No new spatial artifacts, metrics, or geometry are introduced.

## 4. Coupling Model Overview

### 4.1 Structural Position in Turn Order

Pressure → exhaustion coupling executes:
- After Phase 3A pressure diffusion
- Before collapse resolution, negotiation checks, or political effects
- Once per turn

Coupling reads pressure; it does not modify pressure values.

### 4.2 Unit of Accounting (Frozen)

Exhaustion coupling is edge-based, derived from:
- Edge pressure magnitude
- Edge persistence over time
- Local state modifiers

Node-derived or aggregate pressure is not used directly.

## 5. Eligibility for Exhaustion Generation

### 5.1 Persistence Gate (Hard)

Pressure must exceed a minimal significance threshold for N consecutive turns.
- One-turn pressure spikes are ignored
- Persistence counters reset if pressure drops below threshold

### 5.2 State Gating (Hard)

At least one of the following must apply on or across the edge:
- Static or semi-static front contact
- Brittle or Cut supply dependency
- Enclave-like isolation or integrity decline
- Prolonged contested control without consolidation

Edges in fluid maneuver or early-contact states do not generate exhaustion.

### 5.3 Integrity Gating (Hard)

If either side on the edge is already in:
- Exhaustion collapse, or
- Total authority failure

...additional exhaustion from that edge is suppressed.

## 6. Exhaustion Accrual Rules

### 6.1 Accrual Characteristics (Frozen)

Exhaustion accrual is:
- Monotonic
- Irreversible
- Bounded per turn
- Proportional rather than threshold-triggered

No exhaustion spike may occur in a single turn.

### 6.2 Allocation Targets

Exhaustion generated by an edge is allocated to:
- Formations exerting or absorbing pressure, and/or
- Affected settlements or municipal control zones

...according to existing exhaustion attribution rules.

No new exhaustion categories are introduced.

### 6.3 Caps and Safeguards

Per-edge and per-turn exhaustion contribution is capped.

Global exhaustion growth per faction per turn is also capped to ensure gradual degradation and numerical stability.

## 7. Non-Effects (Explicit)

Phase 3B does not:
- Reduce or dissipate pressure
- Alter diffusion behavior
- Directly cause control flips
- Directly trigger fragmentation
- Directly open negotiation windows
- Modify AI behavior

## 8. Determinism and Auditability

Phase 3B enforces:
- Deterministic edge evaluation ordering
- Stable persistence counters
- No randomness
- No timestamps
- Reproducible exhaustion deltas per turn

## 9. Canonical Interpretation (Binding)

Sustained coercive pressure imposes irreversible strategic cost. Pressure that persists under constrained, static, or degraded conditions converts gradually into exhaustion, narrowing future options without producing immediate collapse or decisive outcomes. Exhaustion, not pressure itself, remains the primary driver of war termination.

## 10. Freeze Status

**Phase 3B pressure → exhaustion coupling is design-frozen.**

Any future modification requires:
- Explicit phase advancement
- Ledger entry
- Justification against exhaustion and determinism invariants

---

# Appendix C: Phase 3C --- Exhaustion → Collapse Gating (Design Freeze)

## 1. Purpose and Scope

Phase 3C defines the eligibility conditions under which accumulated exhaustion may begin to destabilize political, military, and spatial systems.

This phase exists to:
- Prevent exhaustion from acting as an implicit collapse trigger
- Ensure collapse remains delayed, contingent, and multi-causal
- Gate downstream failure modes behind persistence and state coherence

Phase 3C does not cause collapse, fragmentation, or territorial change. It only governs when such outcomes may become possible.

## 2. Conceptual Definition

Collapse represents the loss of coordinated governance, command coherence, or spatial integrity sufficient to invalidate normal system behavior.

Exhaustion alone is never sufficient to cause collapse.

Phase 3C defines collapse eligibility, not collapse resolution.

## 3. Canonical Inputs (Locked)

Phase 3C operates exclusively on:
- Exhaustion values accumulated through prior phases
- Authority state variables
- Command cohesion and formation readiness states
- Supply and connectivity states
- Persistence counters derived from earlier phases

No new spatial metrics, randomness, or probabilistic models are introduced.

## 4. Structural Position in Turn Order

Collapse gating executes:
- After exhaustion accrual (Phase 3B)
- Before any collapse, fragmentation, or negotiation logic
- Once per turn

## 5. Collapse Eligibility Model

Collapse eligibility is evaluated independently for each applicable domain:
- Authority collapse
- Command cohesion collapse
- Spatial integrity collapse

Eligibility in one domain does not automatically imply eligibility in another.

## 6. Exhaustion Threshold Gating (Necessary, Not Sufficient)

### 6.1 Threshold Crossing

Each collapse domain defines a minimum exhaustion threshold that must be exceeded before eligibility is even considered.

Threshold crossing alone produces no effect.

### 6.2 Persistence Requirement (Hard)

Exhaustion must remain above the relevant threshold for N consecutive turns.

One-turn threshold crossings are ignored. Persistence counters reset if exhaustion falls below threshold (if permitted by rules).

## 7. State Coherence Gating (Hard)

Collapse eligibility additionally requires concurrent degradation in at least one supporting system.

Examples include:
- Degraded or failed authority consolidation
- Brittle or cut supply dependencies
- Sustained static fronts
- Command fragmentation or disobedience signals

Exhaustion without supporting degradation cannot unlock collapse eligibility.

## 8. Suppression and Immunity Rules

### 8.1 Temporary Suppression

Collapse eligibility is suppressed if:
- Authority recovery actions are active and effective
- Emergency supply restoration succeeds
- External stabilization is applied

Suppression pauses persistence counters but does not erase exhaustion.

### 8.2 Immunity Conditions

Certain states confer temporary immunity to collapse eligibility, such as:
- Early-war coercive phases
- Newly stabilized settlements
- Recently reorganized formations

Immunity is time-limited and explicitly tracked.

## 9. Output Contract

Phase 3C produces eligibility flags only, including:
- Domain-specific collapse eligibility markers
- Persistence counter states
- Suppression or immunity annotations

No collapse resolution occurs in this phase.

## 10. Determinism and Auditability

Phase 3C enforces:
- Deterministic evaluation order
- Stable persistence counters
- No randomness
- No timestamps
- Auditable eligibility state per turn

## 11. Canonical Interpretation (Binding)

Exhaustion enables collapse only when sustained strain coincides with institutional or spatial degradation. Collapse is never automatic, never instantaneous, and never driven by exhaustion alone. Eligibility precedes failure.

## 12. Explicit Non-Effects

Phase 3C does not:
- Trigger collapse
- Fragment municipalities
- Alter control
- Force negotiations
- Modify pressure or exhaustion values

## 13. Freeze Status

**Phase 3C exhaustion → collapse gating is design-frozen.**

Any modification requires:
- Explicit phase advancement
- Ledger entry
- Justification against exhaustion, authority, and determinism invariants

---

*Phase Specifications v0.3.0*
*Complete frozen specifications for Phases 3A, 3B, and 3C*
*Extracted from Systems & Mechanics Manual*
*Formatting standardized for all phases*