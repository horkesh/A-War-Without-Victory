<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Phase G Prototype - AWWV</title>
    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #0f1115;
        color: #e6e6e6;
      }
      header {
        padding: 12px 16px;
        background: #171a21;
        border-bottom: 1px solid #2a2f3a;
        display: flex;
        gap: 12px;
        align-items: center;
      }
      header h1 {
        font-size: 16px;
        margin: 0;
        font-weight: 600;
      }
      #layout {
        display: grid;
        grid-template-columns: 320px 1fr;
        height: calc(100vh - 50px);
      }
      #sidebar {
        border-right: 1px solid #2a2f3a;
        padding: 12px 16px;
        overflow-y: auto;
        background: #12151c;
      }
      #sidebar h2 {
        font-size: 14px;
        margin-top: 16px;
      }
      #sidebar .block {
        margin-bottom: 12px;
        font-size: 13px;
      }
      #sidebar .label {
        color: #9aa3b2;
      }
      #map-container {
        position: relative;
      }
      #map {
        width: 100%;
        height: 100%;
        background: #0b0d12;
      }
      #note {
        font-size: 12px;
        color: #a7b0c0;
        margin-top: 8px;
      }
      .pill {
        display: inline-block;
        padding: 2px 6px;
        border-radius: 10px;
        background: #1f2430;
        margin-right: 4px;
        font-size: 12px;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Phase G Prototype</h1>
      <input type="file" id="save-input" accept=".json" />
      <span class="pill" id="phase-pill">phase: --</span>
      <span class="pill" id="turn-pill">turn: --</span>
    </header>
    <div id="layout">
      <aside id="sidebar">
        <div class="block">
          <div class="label">Control summary</div>
          <div id="control-summary">Load a save to view control counts.</div>
        </div>
        <div class="block">
          <div class="label">Exhaustion (est.)</div>
          <div id="exhaustion-summary">--</div>
        </div>
        <div class="block">
          <div class="label">Negotiation pressure (est.)</div>
          <div id="negotiation-summary">--</div>
        </div>
        <div class="block">
          <div class="label">International visibility (IVP)</div>
          <div id="ivp-summary">--</div>
        </div>
        <div class="block">
          <div class="label">Hover</div>
          <div id="hover-info">Hover a settlement to see details.</div>
        </div>
        <div class="block">
          <div class="label">Uncertainty and delay</div>
          <div id="note">
            Values are estimates derived from delayed or uncertain signals.
            This UI is read-only and avoids false precision.
          </div>
        </div>
      </aside>
      <main id="map-container">
        <canvas id="map"></canvas>
      </main>
    </div>
    <script type="module" src="./phase_g.ts"></script>
  </body>
</html>
